<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录 - Gemini Playground</title>
    <link rel="stylesheet" href="css/login.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="login-container">
        <div class="login-card">
            <div class="logo">
                <h1>Gemini Playground</h1>
                <p>智能多模态对话平台</p>
            </div>
            <!-- 登录表单 -->
            <div class="login-form" id="loginForm">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="phone">手机登录</button>
                    <button class="tab-btn" data-tab="wechat">微信登录</button>
                </div>
                <!-- 手机号登录 -->
                <div class="tab-content active" id="phone">
                    <form id="phoneLoginForm">
                        <div class="form-group">
                            <label for="phoneInput">手机号</label>
                            <input type="tel" id="phoneInput" name="phone" placeholder="请输入手机号" required>
                        </div>
                        <div class="form-group">
                            <label for="verificationCode">验证码</label>
                            <div class="verification-input">
                                <input type="text" id="verificationCode" name="verificationCode" placeholder="请输入验证码" required>
                                <button type="button" id="sendCodeBtn" class="send-code-btn">发送验证码</button>
                            </div>
                        </div>
                        <button type="submit" class="login-btn" id="phoneLoginBtn">登录</button>
                    </form>
                </div>
                <!-- 微信登录 -->
                <div class="tab-content" id="wechat">
                    <div class="wechat-login">
                        <div class="qr-code" id="wechatQR">
                            <div class="qr-placeholder">
                                <div class="qr-icon">📱</div>
                                <p>请使用微信扫码登录</p>
                                <button id="generateQRBtn" class="generate-qr-btn">生成二维码</button>
                            </div>
                        </div>
                        <p class="wechat-tip">使用微信扫描二维码即可快速登录</p>
                    </div>
                </div>
            </div>
            <!-- 用户信息（登录后显示） -->
            <div class="user-info" id="userInfo" style="display: none;">
                <div class="user-avatar">
                    <img id="userAvatar" src="" alt="用户头像">
                </div>
                <div class="user-details">
                    <h3 id="userName">用户名</h3>
                    <p id="userType">免费用户</p>
                    <p id="userExpiry"></p>
                </div>
                <div class="user-actions">
                    <button id="upgradeBtn" class="upgrade-btn">升级为付费用户</button>
                    <button id="apiKeyBtn" class="api-key-btn">设置API Key</button>
                    <button id="logoutBtn" class="logout-btn">退出登录</button>
                </div>
            </div>
            <!-- 支付模态框 -->
            <div class="modal" id="paymentModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>升级为付费用户</h3>
                        <span class="close" id="closePaymentModal">&times;</span>
                    </div>
                    <div class="modal-body">
                        <div class="pricing-info">
                            <h4>年费会员</h4>
                            <div class="price">¥20.00 / 年</div>
                            <ul class="features">
                                <li>✓ 无需配置API Key</li>
                                <li>✓ 每日10,000次API调用</li>
                                <li>✓ 优先技术支持</li>
                                <li>✓ 新功能优先体验</li>
                            </ul>
                        </div>
                        <div class="payment-methods">
                            <button class="payment-btn wechat-pay" data-method="wechat">
                                <span class="payment-icon">💚</span>
                                微信支付
                            </button>
                            <button class="payment-btn alipay" data-method="alipay">
                                <span class="payment-icon">🔵</span>
                                支付宝
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- API Key 模态框 -->
            <div class="modal" id="apiKeyModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>设置API Key</h3>
                        <span class="close" id="closeApiKeyModal">&times;</span>
                    </div>
                    <div class="modal-body">
                        <div class="api-key-info">
                            <p>如果您有自己的Gemini API Key，可以在这里设置。使用自己的API Key无需付费。</p>
                            <a href="https://aistudio.google.com" target="_blank">获取API Key</a>
                        </div>
                        <form id="apiKeyForm">
                            <div class="form-group">
                                <label for="apiKey">API Key</label>
                                <input type="password" id="apiKey" name="apiKey" placeholder="请输入您的Gemini API Key" required>
                            </div>
                            <div class="form-actions">
                                <button type="button" id="cancelApiKey" class="cancel-btn">取消</button>
                                <button type="submit" class="save-btn">保存</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 加载提示 -->
    <div class="loading" id="loading" style="display: none;">
        <div class="loading-spinner"></div>
        <p>处理中...</p>
    </div>
    <!-- 消息提示 -->
    <div class="message" id="message" style="display: none;">
        <span id="messageText"></span>
        <button id="closeMessage">&times;</button>
    </div>
    <script src="js/login.js"></script>
</body>
</html>
